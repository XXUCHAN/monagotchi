# Release 2025-11-15: Volatility Cats MVP

## Overview

Monad Testnet에서 Chainlink Data Feeds를 활용한 Volatility Cats 게임 컨트랙트의 MVP 버전을 배포합니다.

## Features

### ✅ 완료된 기능

- **Oracle Imprint Cat 민팅**: BTC/ETH/SOL/DOGE/PEPE/LINK 등 AssetRegistry에 등록된 클랜을 선택해 Chainlink 가격 기반 Oracle Imprint 생성
- **AssetRegistry 기반 확장성**: 관리자 함수로 체인링크 피드/볼라티리티 한도를 온체인에 추가·수정 가능
- **미션 시스템**: Daily(12시간), Weekly(7일), Monthly(30일) 미션으로 파워 증가
- **보상 시스템**: 파워 50 이상 달성 시 10 CHURR 토큰 보상 (1회 한정)
- **쿨다운 시스템**: 각 미션 타입별 독립적 쿨다운 적용
- **Chainlink 통합**: 실시간 가격 데이터를 활용한 RNG 및 게임 메커닉

### 🔧 기술 구현

- **컨트랙트**: Solidity 0.8.20, OpenZeppelin 5.x 라이브러리 사용
- **토큰**: CHURR 토큰 (ERC20), VolatilityCats NFT (ERC721)
- **오라클**: Chainlink Data Feeds (AssetRegistry에서 자산 관리)
- **테스트**: Hardhat + ethers.js, 28개 테스트 케이스 모두 통과

## 배포 정보

### 컨트랙트 주소 (Testnet)

```
ChurrToken: 0xBF0ad8513dCf383aBacb5A41775bd2C42C26DdE9
AssetRegistry: 0x152285CE8DADCCb4B10285eE077de870aF8d53FC
VolatilityCats: 0x8a062D558ea29DF60EA4a185DdC2069426dEb1Fd
```

> 참고: Monad Testnet(Chain ID 10143)은 Hardhat verify 플러그인이 공식 지원하지 않아 자동 검증은 실패합니다. 필요 시 `npx hardhat verify --list-networks` 안내에 따라 수동 등록해야 합니다.

### 환경 설정

```bash
cd contracts
npm install
cp .env.example .env
# 환경변수 설정 후
npm run deploy
```

## 테스트 결과

### 테스트 통계
- 총 테스트: 28개
- 통과: 28개 ✅
- 실패: 0개

### 주요 테스트 케이스

| 카테고리 | 테스트 | 상태 |
|---------|--------|------|
| 레지스트리 | 자산 등록/업데이트/권한 | ✅ |
| 민팅 | Oracle Imprint 생성 | ✅ |
| 미션 | 파워 증가 및 이벤트 | ✅ |
| 쿨다운 | 시간별 제한 적용 | ✅ |
| 보상 | 토큰 지급 및 1회 제한 | ✅ |
| 보안 | 권한 및 에러 처리 | ✅ |

### 가스 사용량 (예상)

- 민팅: ~160k gas
- 미션 실행: ~35k gas
- 보상 청구: ~87k gas
- 배포: ~2.2M gas

## 다음 단계

### Phase 2 (향후 확장)

- **다중 클랜 지원**: SOL, MONAD 등 추가 클랜
- **변동성 보너스**: High 변동성 구간 특수 룰렛
- **교배 시스템**: 고양이 간 유전자 조합
- **시즌 시스템**: 주기적 게임 밸런스 업데이트

### 알려진 제한사항

- 현재 MVP 버전으로 기본 기능만 구현
- Chainlink 피드 장애 시 민팅 실패 가능성
- 프론트엔드 연동은 별도 구현 필요
- 가격 피드 주소는 배포 시점에 수동 설정 필요

## 버전 정보

- **컨트랙트 버전**: v1.0.0
- **호환성**: Monad Testnet, EVM-compatible
- **Solidity 버전**: 0.8.20
- **라이브러리**: OpenZeppelin 5.4.0, Chainlink 1.5.0

## Contributors

- 개발: AI Agent (Cursor + Grok)
- 검토: 수동 검토 필요

## Changelog

### Added
- VolatilityCats.sol: 메인 게임 컨트랙트
- ChurrToken.sol: 보상 토큰 컨트랙트
- 완전한 테스트 스위트 (16개 테스트)
- 배포 스크립트 및 환경 설정

### Technical Notes

- **Oracle Imprint**: 민팅 시점 가격 데이터를 영구 저장
- **AssetRegistry**: 체인링크 피드/볼라티리티 한도를 온체인에서 관리
- **RNG**: 블록 데이터 + Chainlink 가격 + 고양이 엔트로피 기반
- **보안**: ReentrancyGuard, Ownable 패턴 적용
- **이벤트**: 모든 주요 액션에 이벤트 로깅
